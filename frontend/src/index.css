/* ── Reset & Base ─────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --primary:    #1d4ed8;
  --primary-l:  #3b82f6;
  --primary-bg: #eff6ff;
  --accent:     #0ea5e9;
  --success:    #16a34a;
  --success-bg: #f0fdf4;
  --warning:    #d97706;
  --warning-bg: #fffbeb;
  --danger:     #dc2626;
  --danger-bg:  #fef2f2;

  --bg:       #f8fafc;
  --surface:  #ffffff;
  --border:   #e2e8f0;
  --border2:  #cbd5e1;

  --text1: #0f172a;
  --text2: #334155;
  --text3: #64748b;
  --text4: #94a3b8;

  --radius:  12px;
  --radius-s: 8px;
  --shadow:  0 1px 3px rgba(0,0,0,.08), 0 4px 16px rgba(0,0,0,.06);
  --shadow-l: 0 4px 24px rgba(0,0,0,.12);
}

html { font-size: 16px; -webkit-text-size-adjust: 100%; }

body {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text1);
  line-height: 1.6;
  min-height: 100dvh;
}

/* ── Layout helpers ──────────────────────────────────────────────── */
.container {
  width: 100%;
  max-width: 680px;
  margin: 0 auto;
  padding: 0 16px;
}

.container-wide {
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 20px;
}

/* ── Card ────────────────────────────────────────────────────────── */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* ── Buttons ─────────────────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 14px 28px;
  border-radius: var(--radius-s);
  font-size: 15px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  border: none;
  transition: all .18s ease;
  text-decoration: none;
  line-height: 1;
}

.btn-primary {
  background: var(--primary);
  color: #fff;
}
.btn-primary:hover { background: #1e40af; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(29,78,216,.3); }
.btn-primary:active { transform: translateY(0); }

.btn-ghost {
  background: transparent;
  color: var(--text3);
  border: 1px solid var(--border2);
}
.btn-ghost:hover { background: var(--bg); color: var(--text2); }

.btn-danger {
  background: var(--danger);
  color: #fff;
}
.btn-danger:hover { background: #b91c1c; }

.btn-lg { padding: 18px 36px; font-size: 16px; border-radius: 10px; }
.btn-full { width: 100%; }

.btn:disabled {
  opacity: .45;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

/* ── Form inputs ─────────────────────────────────────────────────── */
.input {
  width: 100%;
  padding: 13px 16px;
  border: 1.5px solid var(--border2);
  border-radius: var(--radius-s);
  font-size: 15px;
  font-family: inherit;
  color: var(--text1);
  background: var(--surface);
  transition: border-color .15s;
  outline: none;
}
.input:focus { border-color: var(--primary-l); box-shadow: 0 0 0 3px rgba(59,130,246,.15); }
.input::placeholder { color: var(--text4); }

label {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--text2);
  margin-bottom: 6px;
}

.field { margin-bottom: 16px; }
.field:last-child { margin-bottom: 0; }

/* ── EvaMed Header strip ─────────────────────────────────────────── */
.app-header {
  background: var(--primary);
  color: #fff;
  padding: 14px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.app-header .logo {
  font-size: 20px;
  font-weight: 800;
  letter-spacing: -.5px;
}

.app-header .logo span { color: #93c5fd; }

/* ── Progress bar ────────────────────────────────────────────────── */
.progress-wrap {
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  padding: 10px 16px;
}

.progress-bar-track {
  height: 6px;
  background: var(--border);
  border-radius: 99px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  border-radius: 99px;
  transition: width .4s ease;
}

.progress-label {
  font-size: 12px;
  color: var(--text3);
  margin-top: 6px;
  display: flex;
  justify-content: space-between;
}

/* ── Question card ───────────────────────────────────────────────── */
.question-num {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .06em;
  color: var(--text4);
  margin-bottom: 10px;
}

.question-area-badge {
  display: inline-block;
  font-size: 10px;
  font-weight: 700;
  padding: 3px 10px;
  border-radius: 99px;
  margin-bottom: 14px;
  text-transform: uppercase;
  letter-spacing: .04em;
}

.badge-personalidad { background: #ede9fe; color: #6d28d9; }
.badge-integridad   { background: #fef3c7; color: #92400e; }
.badge-emocional    { background: #d1fae5; color: #065f46; }
.badge-aptitud      { background: #dbeafe; color: #1e40af; }

.question-text {
  font-size: 18px;
  font-weight: 600;
  color: var(--text1);
  line-height: 1.5;
  margin-bottom: 28px;
}

/* Answer option cards */
.options-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.option-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 16px 18px;
  border: 2px solid var(--border);
  border-radius: var(--radius);
  cursor: pointer;
  transition: all .15s ease;
  background: var(--surface);
  font-size: 15px;
  font-weight: 500;
  color: var(--text2);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.option-card:hover {
  border-color: var(--primary-l);
  background: var(--primary-bg);
  color: var(--primary);
}

.option-card.selected {
  border-color: var(--primary);
  background: var(--primary-bg);
  color: var(--primary);
  font-weight: 600;
}

.option-card.selected .option-dot {
  background: var(--primary);
}

.option-dot {
  width: 20px;
  height: 20px;
  min-width: 20px;
  border-radius: 50%;
  border: 2px solid var(--border2);
  background: transparent;
  transition: background .15s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.option-dot::after {
  content: "";
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #fff;
  opacity: 0;
  transition: opacity .15s;
}

.option-card.selected .option-dot::after { opacity: 1; }

/* ── Verdict badge ───────────────────────────────────────────────── */
.verdict-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 24px;
  border-radius: 99px;
  font-size: 15px;
  font-weight: 800;
  letter-spacing: .04em;
  text-transform: uppercase;
}

.verdict-green  { background: #dcfce7; color: var(--success); border: 2px solid #86efac; }
.verdict-yellow { background: #fef9c3; color: #854d0e;        border: 2px solid #fde047; }
.verdict-red    { background: #fee2e2; color: var(--danger);   border: 2px solid #fca5a5; }

/* ── Score gauge ─────────────────────────────────────────────────── */
.score-circle {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  margin: 0 auto;
  position: relative;
}

.score-circle .score-num {
  font-size: 36px;
  line-height: 1;
}

.score-circle .score-label {
  font-size: 11px;
  font-weight: 600;
  opacity: .7;
  text-transform: uppercase;
  letter-spacing: .05em;
}

/* ── Area cards ──────────────────────────────────────────────────── */
.area-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

@media (max-width: 480px) {
  .area-grid { grid-template-columns: 1fr; }
}

.area-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}

.area-name {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .05em;
  color: var(--text3);
  margin-bottom: 10px;
}

.area-pct {
  font-size: 28px;
  font-weight: 800;
  margin-bottom: 6px;
}

.area-bar-track {
  height: 6px;
  background: var(--border);
  border-radius: 99px;
  overflow: hidden;
  margin-bottom: 12px;
}

.area-bar-fill {
  height: 100%;
  border-radius: 99px;
}

.dim-list { display: flex; flex-direction: column; gap: 6px; margin-top: 10px; }

.dim-row {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
}

.dim-name { flex: 1; color: var(--text3); }

.dim-pct {
  font-weight: 700;
  font-size: 12px;
  min-width: 36px;
  text-align: right;
}

.dim-mini-bar {
  width: 60px;
  height: 4px;
  background: var(--border);
  border-radius: 99px;
  overflow: hidden;
}

.dim-mini-fill {
  height: 100%;
  border-radius: 99px;
}

/* ── Admin table ─────────────────────────────────────────────────── */
.table-wrap { overflow-x: auto; }

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}

th {
  text-align: left;
  padding: 10px 14px;
  background: var(--bg);
  color: var(--text3);
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .04em;
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}

td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  color: var(--text2);
  vertical-align: middle;
}

tr:last-child td { border-bottom: none; }
tr:hover td { background: var(--bg); }

/* ── Status pill ─────────────────────────────────────────────────── */
.pill {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 99px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .04em;
}

.pill-pending    { background: var(--border);   color: var(--text3); }
.pill-progress   { background: #dbeafe; color: #1d4ed8; }
.pill-completed  { background: #dcfce7; color: var(--success); }

/* ── Utilities ───────────────────────────────────────────────────── */
.mt-8  { margin-top: 8px; }
.mt-12 { margin-top: 12px; }
.mt-16 { margin-top: 16px; }
.mt-24 { margin-top: 24px; }
.mt-32 { margin-top: 32px; }

.text-center { text-align: center; }
.text-sm { font-size: 13px; }
.text-muted { color: var(--text3); }

.divider {
  border: none;
  border-top: 1px solid var(--border);
  margin: 24px 0;
}

/* Loading spinner */
.spinner {
  width: 36px;
  height: 36px;
  border: 3px solid var(--border);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin .7s linear infinite;
  margin: 40px auto;
}

@keyframes spin { to { transform: rotate(360deg); } }

/* ── Mobile tweaks ───────────────────────────────────────────────── */
@media (max-width: 480px) {
  .question-text { font-size: 16px; }
  .btn-lg { padding: 15px 24px; font-size: 15px; }
}

/* ── Print styles ────────────────────────────────────────────────── */
.print-only { display: none; }

@media print {
  /* Force color rendering */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  body {
    background: #fff !important;
    font-size: 12px;
  }

  /* Hide interactive elements */
  .no-print { display: none !important; }

  /* Show print-only elements */
  .print-only { display: block !important; }

  /* Print header */
  .print-header {
    padding: 16px 24px 12px;
    border-bottom: 2px solid #1d4ed8;
    margin-bottom: 20px;
  }

  /* Remove shadows and borders for cleaner print */
  .card, .area-card {
    box-shadow: none !important;
    border: 1px solid #e2e8f0 !important;
    break-inside: avoid;
  }

  /* Make container full-width */
  .print-container {
    max-width: 100% !important;
    padding: 0 24px !important;
  }

  /* Area grid 2 columns, no break inside cards */
  .area-grid {
    grid-template-columns: 1fr 1fr !important;
    break-inside: avoid;
  }

  /* Verdict badges keep their colors */
  .verdict-green  { background: #dcfce7 !important; color: #16a34a !important; }
  .verdict-yellow { background: #fef9c3 !important; color: #854d0e !important; }
  .verdict-red    { background: #fee2e2 !important; color: #dc2626 !important; }

  /* Area/progress bars keep color */
  .area-bar-fill, .dim-mini-fill { print-color-adjust: exact !important; }

  /* Page margins */
  @page {
    margin: 1.5cm 1.5cm 1.5cm 1.5cm;
    size: A4;
  }

  /* Avoid page breaks inside key blocks */
  .area-card, .card { page-break-inside: avoid; }
}
